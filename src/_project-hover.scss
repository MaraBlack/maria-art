@mixin project-hover(
  $count,
  $grid: ".projects-grid",
  $list: ".project-list",
  $img: ".project-img"
) {
  #{$grid} {
    //  base  look
    #{$img} {
      filter: grayscale(100%);
      transition: transform 0.2s ease-in-out, filter 0.2s ease-in-out;
    }

    //  direct  hover
    #{$img}:hover {
      filter: none;
      transform: scale(1.05);
      cursor: pointer;
    }

    //  per-index  hover/focus/active from  list
    @for $i from 1 through $count {
      &:has(#{$list} [data-i="#{$i}"]:hover),
      &:has(#{$list} [data-i="#{$i}"]:focus-visible),
      &:has(#{$list} [data-i="#{$i}"].active) {
        #{$img}[data-i="#{$i}"] {
          filter: none;
          transform: scale(1.05);
        }
      }
    }
  }
}
