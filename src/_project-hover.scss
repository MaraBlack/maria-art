// _project-hover.scss
@mixin project-hover($count,
  $grid: '.projects-grid',
  $list: '.project-list',
  $img: '.project-img'

) {
  #{$grid} {

    // base look
    #{$img} {
      filter: grayscale(100%);
      transition: transform 0.2s ease-in-out, filter 0.2s ease-in-out;
    }

    // allow direct hover on image
    #{$img}:hover {
      filter: none;
      transform: scale(1.05);
      cursor: pointer;
    }

    // generate per-index rules without comma-separated selectors
    @for $i from 1 through $count {
      &:has(#{$list} [data-i='#{$i}']:hover) {
        #{$img}[data-i='#{$i}'] {
          filter: none;
          transform: scale(1.05);
        }
      }

      &:has(#{$list} [data-i='#{$i}']:focus-visible) {
        #{$img}[data-i='#{$i}'] {
          filter: none;
          transform: scale(1.05);
        }
      }
    }
  }
}